#
#
# Author: Steven Spasbo
#
#

# -----------------------------------------------------------------------------
# Variables
# -----------------------------------------------------------------------------
# Powerline symbols:        

TMUX_NON_ACTIVE_TEXT=colour250
TMUX_LIGHT_GREEN=colour2

TMUX_STATUS_BAR_COLOR=colour23

TMUX_ACTIVE_WINDOW_BG_COLOR=$TMUX_LIGHT_GREEN
TMUX_ACTIVE_WINDOW_FG_COLOR=$TMUX_STATUS_BAR_COLOR

color_green='#228B22'
color_light_grey='colour250'
color_dark_grey='colour235'
color_status_bar='colour23'

# -----------------------------------------------------------------------------
# Keybindings
# -----------------------------------------------------------------------------
# Reload the tmux config file with Prefix + r
bind r source-file ~/.tmux.conf \; display " ✅ Config reloaded"

# Move windows left / right
bind-key -n C-S-Left swap-window -t -1
bind-key -n C-S-Right swap-window -t +1

bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# -----------------------------------------------------------------------------
# General options
# -----------------------------------------------------------------------------
# Set the default terminal to support 256 colors
set -g default-terminal "screen-256color"

# Increase the history limit
set -g history-limit 5000

# Start window and pane numbering at 1 for easier access
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# Automatically set the window title
set -g set-titles on
set -g set-titles-string '#W' # Set title to window name

# Enable mouse support for scrolling, pane selection, etc.
set -g mouse on

# Set status bar refresh interval
set -g status-interval 1

# Disable visual alerts (no flashing or bell)
setw -g monitor-activity off
set -g visual-activity off
set -g visual-bell off

# Set pane display time and colors (Prefix + q)
set -g display-panes-time 5000
set -g display-panes-active-colour $color_status_bar
set -g display-panes-colour $color_light_grey

# Set clock style
setw -g clock-mode-style 12

# -----------------------------------------------------------------------------
# Status bar
# -----------------------------------------------------------------------------

# --------------------------------------
# Whole bar
# --------------------------------------

# -------------------
# Positioning
# -------------------
# Explicitly set status bar position to bottom
set -g status-position bottom # Move status bar to the top

# Entire status bar colors
# set-option -g status-bg $TMUX_STATUS_BAR_COLOR
# set-option -g status-fg $TMUX_STATUS_BAR_COLOR

# Messages
set -g message-style "bg=$TMUX_ACTIVE_WINDOW_BG_COLOR,fg=black"

# --------------------------------------
# Left side of the status bar (Windows)
# --------------------------------------

# Left side of the status bar (empty)
set -g status-left ""

# -------------------
# Inactive windows
# -------------------
setw -g window-status-style bg=$TMUX_STATUS_BAR_COLOR,fg=$TMUX_NON_ACTIVE_TEXT,dim

# Inactive window format
# setw -g window-status-format " #I #W "
setw -g window-status-format " #I  #W "

# Separator for windows
setw -g window-status-separator ""

# set -g pane-border-fg colour235 # greyish
set -g pane-border-style fg=colour235

# -------------------
# Active window
# -------------------
# set -g pane-active-border-style fg=colour242 # greyish
# set -g pane-active-border-fg colour242 # greyish

setw -g window-status-current-format "" # Append the rest of it.
setw -ga window-status-current-format "#[bg=$TMUX_ACTIVE_WINDOW_BG_COLOR]#[fg=$TMUX_STATUS_BAR_COLOR]"
setw -ga window-status-current-format "#[bg=$TMUX_ACTIVE_WINDOW_BG_COLOR]#[fg=$TMUX_ACTIVE_WINDOW_FG_COLOR] #I  "
setw -ga window-status-current-format "#[bg=$TMUX_ACTIVE_WINDOW_BG_COLOR]#[fg=$TMUX_ACTIVE_WINDOW_FG_COLOR] #W "
setw -ga window-status-current-format "#[bg=$TMUX_STATUS_BAR_COLOR]#[fg=$TMUX_ACTIVE_WINDOW_BG_COLOR]"
setw -g window-status-current-style bright

# --------------------------------------
# Right side of the status bar (Date and Time)
# --------------------------------------
set -g status-right-length 50
set -g status-right "" # Append the rest of it.
set -ga status-right "#[fg=$TMUX_ACTIVE_WINDOW_BG_COLOR]#[bg=$TMUX_STATUS_BAR_COLOR]"
set -ga status-right "#[fg=$TMUX_STATUS_BAR_COLOR]#[bg=$TMUX_ACTIVE_WINDOW_BG_COLOR]"
set -ga status-right " %A, %d %b %Y  %r "
